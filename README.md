# üß† Modbus Connected Home

**Modbus Connected Home** ‚Äî —ç—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–ª—è [Home Assistant](https://www.home-assistant.io/), –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –ø–æ –ø—Ä–æ—Ç–æ–∫–æ–ª—É **Modbus RTU –∏–ª–∏ TCP** —á–µ—Ä–µ–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π Python-—Å–∫—Ä–∏–ø—Ç.

---

## ‚öôÔ∏è –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ Modbus RTU (—á–µ—Ä–µ–∑ /dev/ttyUSBx) –∏ Modbus TCP  
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏–∑ —Ñ–∞–π–ª–∞ `poller.yaml`  
- –ü—Ä–æ—Å—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ `/config/modbus/poller.yaml`  
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∂—É—Ä–Ω–∞–ª Home Assistant  
- –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞—Ö: `aarch64`, `amd64`, `armhf`, `armv7`, `i386`  

---

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ `poller.yaml` –¥–æ–ª–∂–µ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –ø–æ –ø—É—Ç–∏:
/config/modbus/poller.yaml

–ü—Ä–∏–º–µ—Ä poller.yaml:
-
    mqtt_broker: 172.30.32.1
    mqtt_port: 1883
    device: /dev/ttyUSB0
    username: modbus
    passwd: modbus
    slaves:
    -
      period: 2
      alias: DIO
      slave_id: 1
      data:
        discrete_inputs:
          count: 32
        coils:
          count: 16
      topics:
      - mb/1/15/0
      - mb/1/15/1
      - mb/1/15/2
      - mb/1/15/3
      - mb/1/15/4
      - mb/1/15/5
      - mb/1/15/6
      - mb/1/15/7
      - mb/1/15/8
      - mb/1/15/9
      - mb/1/15/10
      - mb/1/15/11
      - mb/1/15/12
      - mb/1/15/13
      - mb/1/15/14
      - mb/1/15/15
      - mb/1/02/0
      - mb/1/02/1
      - mb/1/02/2
      - mb/1/02/3
      - mb/1/02/4
      - mb/1/02/5
      - mb/1/02/6
      - mb/1/02/7
      - mb/1/02/8
      - mb/1/02/9
      - mb/1/02/10
      - mb/1/02/11
      - mb/1/02/12
      - mb/1/02/13
      - mb/1/02/14
      - mb/1/02/15
      - mb/1/02/16
      - mb/1/02/17
      - mb/1/02/18
      - mb/1/02/19
      - mb/1/02/20
      - mb/1/02/21
      - mb/1/02/22
      - mb/1/02/23
      - mb/1/02/24
      - mb/1/02/25
      - mb/1/02/26
      - mb/1/02/27
      - mb/1/02/28
      - mb/1/02/29
      - mb/1/02/30
      - mb/1/02/31
      

